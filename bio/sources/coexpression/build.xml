<project name="coexpression" default="default" basedir=".">
  <description>build, test, package coexpression</description>
  
  <import file="../../../imbuild/source.xml"/>

  <!-- no retrieve -->
  <target name="retrieve"/>

  <target name="-init-loader-classname" unless="coexpression.loaderClassName">
    <!-- set the default -->
    <property name="coexpression.loaderClassName"
      value="org.intermine.bio.dataconversion.CoexpressionDirectDataLoaderTask"/>
  </target>

  <!-- NOTE: we can do this with dynamic properties -->
  <target name="load" depends="-init-loader-classname, init, -init-deps">
    <taskdef name="read-coexpression"
      classname="${coexpression.loaderClassName}"
      classpathref="task.class.path"/>
      <read-coexpression integrationWriterAlias="integration.production"
      proteomeId="${proteomeId}"
      sourceName="${source.name}"
      sourceType="${source.type}">
      <fileset dir="${src.data.dir}" includes="${src.data.dir.includes}"/>
    </read-coexpression>
  </target>
</project>
